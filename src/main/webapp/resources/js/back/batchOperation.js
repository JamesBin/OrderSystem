var BatchOperation=function(){return{init:function(all,single){$("[name="+all+"]").on('change',function(){if($(this).is(":checked")){$("[name="+single+"]").prop('checked',true)}else{$("[name="+single+"]").attr("checked",false)}});$("[name="+single+"]").on('change',function(){if($(this).is(":checked")){var allSelected=true;$("[name="+single+"]").each(function(){if(!$(this).is(":checked")){allSelected=false}});if(allSelected){$("[name="+all+"]").prop('checked',true)}}else{$("[name="+all+"]").attr("checked",false)}})},deleteOne:function(type){$(".delete").on("click",function(){var id=$(this).attr("data-id");var hintName=$(this).attr("data-hintName");if(type=="area"){if(!confirm("确认删除："+hintName+" 吗？")){return}}else if(type=="road"){if(!confirm("确认删除："+hintName+" 吗？")){return}}else if(type=="station"){if(!confirm("确认删除："+hintName+" 吗？")){return}}else if(type=="lane"){if(!confirm("确认删除车道号："+hintName+"吗？")){return}}$.ajax({url:"deleteOne.do",type:"post",data:{'id':id},dataType:'json',success:function(returnedData){$(".search").trigger("click")},error:function(){alert('url: "deleteOne.do",请求失败！')}})})},deleteMulti:function(type){$(".deleteMulti").on("click",function(){if(!$("[name=items]").is(":checked")){var flag=false;$("[name=item]").each(function(){if($(this).is(":checked")){flag=true}});if(!flag){alert("请先勾选删除项！");return}}if(type=="area"){if(!confirm("确认删除勾选项吗？")){return}}else if(type=="road"){if(!confirm("确认删除勾选项吗？")){return}}else if(type=="station"){if(!confirm("确认删除勾选项吗？")){return}}else if(type=="lane"){if(!confirm("确认删除勾选项吗？")){return}}var ids="";$("[name=item]:checked").each(function(){ids+=$(this).val()+","});ids=ids.substring(0,ids.lastIndexOf(","));$.ajax({url:"deleteMulti.do",type:"post",data:{'ids':ids},dataType:'json',success:function(returnedData){$(".search").trigger("click")},error:function(){alert('url: "deleteMulti.do",请求失败！')}})})}}}();