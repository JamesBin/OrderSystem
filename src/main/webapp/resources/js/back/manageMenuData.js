var ManageMenuData=function(){return{init:function(){$('#toExcel').on('click',function(){if($('.no-data').length==1){$('.tips').html('对不起，没有找到能导出的数据');$('#nullData').click();return}var form=$('#listForm');var action=form.attr('action');form.attr('action','../back/menuToExcel');form.submit();form.attr('action',action)});$('.delAll').on('click',function(e){e.preventDefault();var chk_value=[];$('input[name="item"]:checked').each(function(){chk_value.push($(this).val())});console.log(chk_value);if(chk_value==""){$('.tips').html('请选择要删除的项');$('#nullData').click();return}$.ajax({url:'../back/deleteBySelectId',type:'post',data:{'ids':chk_value.toString()},success:function(data){alert("success")},error:function(){alert("删除的商品项中有订单记录，请核实后再删除")}})});$("#file-0").fileinput({'showUpload':false,'allowedFileTypes':['image'],'allowedFileExtensions':['jpg','png','gif']});$('#doc-modal-list').find('.am-icon-close').add('.doc-confirm-toggle').on('click',function(){$('#my-confirm').modal({relatedTarget:this})});$('.saveFood').on('click',function(){$('#saveForm').submit()});$('.editFood').on('click',function(){$('#editForm').submit()});$('.cancel').on('click',function(e){e.preventDefault();$('.am-dimmer').click()});$('.edit').on('click',function(e){e.preventDefault();$('.fileUpload').hide();$('.recentImage').show();var id=$(this).attr("data-id");$.ajax({url:'../back/getFoodInfoById',type:'post',data:{'id':id},success:function(data){$('#edit_foodName').val(data.food.foodName);$('#edit_price').val(data.food.price);$('#edit_description').val(data.food.description);$('#edit_description').val(data.food.description);$('#edit_id').val(data.food.id);$("#edit_foodTypeId").find("option[value= "+data.food.foodTypeId+"]").attr("selected",true);$(".edit_image").attr('src',"/OrderSystem/"+data.food.image);console.log(data.food)}})});$('.changeImage').on('click',function(e){e.preventDefault();$('.recentImage').hide();$('.fileUpload').fadeIn('slow');$('[name = "editImage"]').attr('data-min-file-count','1')});$('.del').on('click',function(e){e.preventDefault();var id=$(this).attr("data-id");$('#delId').val(id)});$('.confirmDel').on('click',function(){var foodId=$('#delId').val();$.ajax({url:'../back/deleteFood',type:'post',data:{'foodId':foodId},success:function(){$('.search').click()},error:function(){alert('删除的商品项中有订单记录，请核实后再删除')}})})}}}();